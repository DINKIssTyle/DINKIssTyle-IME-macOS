# DKST English/Hangul IME v2 Changelog

This document outlines the major changes introduced in version 2 of the DKST IME.

## 1. Preferences UI Redesign
The Preferences window has been completely redesigned for better usability and clarity.

- **Reorganized Layout**: Settings are now grouped logically.
    1. **Caps Lock Switch**: Use Caps Lock to toggle input mode.
    2. **Moa-chigi**: Enable vowel+consonant combination.
    3. **Old Hangul**: Enable archaic script support (e.g., Araea, Old Choseong).
        *   Supported: `ㅏㅣ`(`ㆎ`), `ㅇㅇ`(`ㆁ`), `ㅎ`(`ㆆ`) etc.
    4. **Delete by**: Choose between **Jaso** (Unit) and **Gulja** (Syllable) deletion.
    5. **Custom Shift Shortcuts**: Enable emoji/text shortcuts.
    6. **Mapping Table**: Defines the custom shortcuts.
- **Visual Improvements**:
    - **UI Cleanup**: Removed unused icon selection options and optimized vertical spacing.
    - Added a copyright label "(C) 2025 DINKI'ssTyle".
    - Updated default settings:
        *   **Enable Moa-chigi**: ON
        *   **Delete by**: Jaso
        *   **Using old Korean script**: OFF
        *   **Enable Caps Lock**: OFF
        *   **Enable Custom Shift**: OFF

## 2. Engine Improvements (DKSTHangul)
- **Archaic Syllable Support**:
    - Implemented logic to support archaic combinations like "ㅎㆍᆫ".
    - **New Combinations**:
        - `ㅇㅇ` -> `ㆁ` (Yesieung)
        - `ㅅㅅ` -> `ㅿ` (Bansiot)
        - `ㅎㅎ` -> `ㆆ` (Yeorinhieuh)
        - `ㄱㅅ` -> `ㅺ`, `ㅂㅅ` -> `ㅼ`, `ㅂㅈ` -> `ㅽ`
        - `ㅏㅣ` -> `ㆎ` (Araea-I)
        - `Shift+D` -> `ㆀ` (SsangIeung), `Shift+G` -> `ㆄ` (KapyeounPhieup)
    - Switched to using **Conjoining Jamo (U+11xx)** for archaic syllables instead of Compatibility Jamo, ensuring proper rendering by the OS font engine.
- **Araea Input**:
    - Typing 'ㅏ' (k) + 'ㅏ' (k) now produces Araea ('ᆞ') if "Using old Korean script" is enabled.

## 3. System & Build
- **Installation Fix**:
    - Updated `install.command` to install the Input Method to the User Library (`~/Library/Input Methods`) instead of the System Library. This resolves permission issues with `Info.plist` modifications and simplifies the install process (no sudo required for install).
- **API Modernization**:
    - Replaced the deprecated `launchApplication:` method with `openApplicationAtURL:`.
    - Replaced deprecated `absolutePathForAppBundleWithIdentifier:` with `URLForApplicationWithBundleIdentifier:` in Preferences.
- **Icon Support**:
    - Reverted to static `Hangul.pdf` (Taegeuk) icon as the single standard icon.

## Usage
1. Run [./build.sh](file:///Users/dinki/Documents/GitHub/DINKIssTyle-IME-macOS/build.sh) to compile.
2. Run [./install.command](file:///Users/dinki/Documents/GitHub/DINKIssTyle-IME-macOS/install.command) to install (Select Option 1).
3. Logout and login (or restart) to ensure the input method is fully reloaded.
